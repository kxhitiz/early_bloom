<div class="flex justify-between items-center mb-6">
  <h1 class="text-2xl font-bold text-stone-800">Comments</h1>
  <p class="text-stone-500"><%= Comment.count %> total</p>
</div>

<div class="bg-white rounded-lg shadow-sm border border-stone-200 overflow-hidden">
  <table class="w-full">
    <thead class="bg-stone-50 border-b border-stone-200">
      <tr>
        <th class="text-left px-4 py-3 text-sm font-semibold text-stone-600">Comment</th>
        <th class="text-left px-4 py-3 text-sm font-semibold text-stone-600">Author</th>
        <th class="text-left px-4 py-3 text-sm font-semibold text-stone-600">Post</th>
        <th class="text-left px-4 py-3 text-sm font-semibold text-stone-600">Created</th>
        <th class="text-right px-4 py-3 text-sm font-semibold text-stone-600">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-stone-100">
      <% @comments.each do |comment| %>
        <tr class="hover:bg-stone-50">
          <td class="px-4 py-3 text-sm text-stone-700 max-w-md">
            <%= truncate(comment.body, length: 100) %>
          </td>
          <td class="px-4 py-3 text-sm text-stone-600">
            <%= link_to comment.user.name, admin_user_path(comment.user), class: "hover:text-emerald-700" %>
          </td>
          <td class="px-4 py-3 text-sm">
            <%= link_to truncate(comment.post.title.presence || comment.post.body, length: 30), admin_post_path(comment.post), class: "text-emerald-600 hover:text-emerald-700" %>
          </td>
          <td class="px-4 py-3 text-sm text-stone-500">
            <%= time_ago_in_words(comment.created_at) %> ago
          </td>
          <td class="px-4 py-3 text-right">
            <%= button_to "Delete", admin_comment_path(comment), method: :delete, data: { turbo_confirm: "Are you sure you want to delete this comment?" }, class: "text-sm text-red-600 hover:text-red-700" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="mt-6">
  <%= paginate @comments %>
</div>
